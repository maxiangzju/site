---
import BaseLayout from '../../components/layout/BaseLayout.astro';

interface Game {
  title: string;
  description: string;
  href: string;
  image: string;
  tags: string[];
}

const games: Game[] = [
  {
    title: 'Tank Battle',
    description: 'A top-down tank combat game with AI enemies, lighting effects, and multiple waves of increasing difficulty.',
    href: '/game/tank-battle',
    image: '/images/tank-battle-preview.svg',
    tags: ['Action', 'Combat', 'AI'],
  },
  {
    title: 'Bouncing Balls',
    description: 'A relaxing physics simulation with colorful bouncing balls. Click to add more!',
    href: '/game/bouncing-balls',
    image: '/images/bouncing-balls-preview.svg',
    tags: ['Simulation', 'Physics', 'Relaxing'],
  },
];
---

<BaseLayout title="Games | My Site">
  <div class="max-w-4xl mx-auto px-4 py-16">
    <h1 class="text-3xl font-bold mb-4">Games</h1>
    <p class="text-[var(--color-text-muted)] mb-8">
      A collection of interactive web games built with canvas and modern web technologies.
    </p>

    <div class="grid gap-6 md:grid-cols-2">
      {games.map((game) => (
        <a
          href={game.href}
          class="game-card group block rounded-lg border border-[var(--color-border)] overflow-hidden hover:border-[var(--color-primary)] transition-all hover:shadow-lg"
        >
          <div class="aspect-video bg-[var(--color-bg-secondary)] flex items-center justify-center relative overflow-hidden">
            <div class="game-preview absolute inset-0 flex items-center justify-center">
              {game.title === 'Tank Battle' ? (
                <svg viewBox="0 0 200 150" class="w-full h-full">
                  <rect fill="#1a1a2e" width="200" height="150" />
                  <rect fill="#16213e" x="0" y="0" width="50" height="50" />
                  <rect fill="#16213e" x="100" y="0" width="50" height="50" />
                  <rect fill="#16213e" x="50" y="50" width="50" height="50" />
                  <rect fill="#16213e" x="150" y="50" width="50" height="50" />
                  <rect fill="#16213e" x="0" y="100" width="50" height="50" />
                  <rect fill="#16213e" x="100" y="100" width="50" height="50" />
                  <rect fill="#333" x="85" y="60" width="30" height="30" />
                  <g transform="translate(100, 120)">
                    <rect fill="#4a7c59" x="-15" y="-20" width="30" height="40" rx="3" />
                    <rect fill="#3d6b4a" x="0" y="-25" width="25" height="6" rx="2" />
                    <circle fill="#5d9b6e" cx="0" cy="0" r="8" />
                  </g>
                  <g transform="translate(60, 50)">
                    <rect fill="#8B4513" x="-12" y="-16" width="24" height="32" rx="3" />
                    <rect fill="#6B3811" x="0" y="-20" width="20" height="5" rx="2" />
                    <circle fill="#A0522D" cx="0" cy="0" r="6" />
                  </g>
                  <path d="M100,120 L60,50" stroke="rgba(255,215,0,0.5)" stroke-width="2" stroke-dasharray="4,4" />
                </svg>
              ) : (
                <svg viewBox="0 0 200 150" class="w-full h-full">
                  <rect fill="#1a1a2e" width="200" height="150" />
                  <circle cx="50" cy="60" r="20" fill="#FF6B6B" opacity="0.9" />
                  <circle cx="130" cy="40" r="15" fill="#4ECDC4" opacity="0.9" />
                  <circle cx="160" cy="100" r="25" fill="#45B7D1" opacity="0.9" />
                  <circle cx="70" cy="110" r="18" fill="#96CEB4" opacity="0.9" />
                  <circle cx="100" cy="80" r="12" fill="#FFEAA7" opacity="0.9" />
                </svg>
              )}
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-[var(--color-bg)] to-transparent opacity-0 group-hover:opacity-60 transition-opacity" />
          </div>
          <div class="p-4">
            <h2 class="text-xl font-semibold mb-2 group-hover:text-[var(--color-primary)] transition-colors">
              {game.title}
            </h2>
            <p class="text-[var(--color-text-muted)] text-sm mb-3">
              {game.description}
            </p>
            <div class="flex gap-2 flex-wrap">
              {game.tags.map((tag) => (
                <span class="text-xs px-2 py-1 rounded-full bg-[var(--color-bg-secondary)] text-[var(--color-text-muted)]">
                  {tag}
                </span>
              ))}
            </div>
          </div>
        </a>
      ))}
    </div>
  </div>
</BaseLayout>

<style>
  .game-card:hover .game-preview {
    transform: scale(1.05);
    transition: transform 0.3s ease;
  }

  .game-preview {
    transition: transform 0.3s ease;
  }
</style>
